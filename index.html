<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <title>Payment form example</title>

  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      width: 100%;
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #ffffff;
    }
    #alert-error {
      display: none;
    }
    .show {
      display: flex !important;
    }
  </style>

</head>
<body>
  <form class="needs-validation" novalidate>
    <fieldset class="container-sm border">
      <div class="row border p-3 bg-light">Payment form example</div>
      
      <div class="mt-3 alert alert-danger" id="alert-error">
        Some fields are missing
      </div>
      
      <!-- Input fields -->
      <div class="mt-3 row">
        <div class="col-5">
          <label class="form-label" for="card">Card #</label>
          <input class="form-control" type="number" id="card" placeholder="XXXXXXXXXXXXXXXX" required>
          <!-- <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please provide a valid card number.
          </div> -->
        </div>
        <div class="col-3">
          <label class="form-label" for="cvc">CVC #</label>
          <input class="form-control" type="number" id="cvc" placeholder="0000" required>
          <!-- <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please provide a valid CVC card number.
          </div> -->
        </div>
        <div class="col-4">
          <label class="form-label" for="amount">Amount</label>
          <div class="input-group has-validation">
            <span class="input-group-text">$</span>
            <input type="number" class="form-control" id="amount" aria-describedby="inputGroupPrepend" required>
            <!-- <div class="valid-feedback">
              Looks good!
            </div>
            <div class="invalid-feedback">
              Please provide a valid amount.
            </div> -->
          </div>
        </div>
      </div>
      
      <div class="mt-3 row">
        <div class="col-6">
          <label class="form-label" for="first-name">First Name</label>
          <input class="form-control" type="text" id="first-name" placeholder="First Name" required>
          <!-- <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please provide a valid name.
          </div> -->
        </div>
        <div class="col-6">
          <label class="form-label" for="last-name">Last Name</label>
          <input class="form-control" type="text" id="last-name" placeholder="Last Name" required>
          <!-- <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please provide a valid last name.
          </div> -->
        </div>
      </div>
      
      <div class="mt-3 row">
        <div class="col-6">
          <label class="form-label" for="city">City</label>
          <input class="form-control" type="text" id="city" placeholder="City" required>
          <!-- <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please provide a valid city.
          </div> -->
        </div>
        <div class="col-3">
          <label class="form-label" for="state">State</label>
          <select class="form-select" id="state" required>
            <option value="FL">Florida</option>
            <!-- Add states options here -->
          </select>
          <!-- <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please select a valid state.
          </div> -->
        </div>
        <div class="col-3">
          <label class="form-label" for="postal-code">Postal Code</label>
          <input class="form-control" type="number" id="postal-code" placeholder="Postal Code" required>
          <!-- <div class="valid-feedback">
            Looks good!
          </div>
          <div class="invalid-feedback">
            Please provide a valid postal code number.
          </div> -->
        </div>
      </div>
      
      <div class="mt-3 row">
        <div class="col-6">
          <label>We accept:</label>
        </div>
        <div class="col-6">
          <label class="form-label" for="message">Message</label>
          <textarea class="form-control" id="message" placeholder="Add any notes here."></textarea>
          <!-- <div class="valid-feedback">
            Looks good!
          </div> -->
        </div>
      </div>
      
      <div class="p-3 mt-3 row justify-content-end border bg-light">
        <button class="mx-3 col-auto btn btn-primary" type="reset">Cancel</button>
        <button class="col-auto btn btn-primary" type="submit">Send</button>
      </div>
      
    </fieldset>
  </form>

  <script>
    let isAlert = false

    const removeAlert = () => {
      const alertError = document.querySelector('#alert-error')
      
      alertError.classList.remove('show')
      isAlert = false
    }

    const showAlert = () => {
      const alertError = document.querySelector('#alert-error')
      if (!isAlert) {
        alertError.classList.add('show')
        isAlert = true

        setTimeout(() => {
          removeAlert()
        }, 3000);
      }
    }

    const validateForms = () => {
      const forms = document.querySelectorAll('.needs-validation')
      Array.prototype.slice.call(forms)
        .forEach(function (form) {
          form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
              showAlert()
            }

            form.classList.add('was-validated')
          }, false)
        })
    }
    validateForms()
  </script>
</body>
</html>